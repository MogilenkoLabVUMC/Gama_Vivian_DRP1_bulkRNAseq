# Visualization Scripts Guide

## Overview

This directory contains multiple visualization scripts developed during analysis.
This document clarifies which scripts to use for different purposes.

---

## Primary Scripts (USE THESE)

### `6.publication_figures.py` - **Main Publication Figures**
**Purpose**: Generate final, publication-ready figures with colorblind-safe palettes
**Output**: `03_Results/02_Analysis/Plots/Publication_Figures/`
**Generates**:
- Fig1: Ribosome Paradox (SynGO + MitoCarta combined)
- Fig2: Shared Compensation MitoCarta heatmap
- Fig3: Pattern Classification Summary
- Color palette reference

```bash
python3 02_Analysis/6.publication_figures.py
```

### `viz_calcium_genes.R` - Calcium Gene Analysis
**Purpose**: Specific gene set visualization for calcium signaling genes
**Output**: Calcium gene-specific volcano plots and expression patterns

### `viz_pooled_dotplots.R` - Standard GSEA Dotplots
**Purpose**: Generate pooled GSEA dotplots across contrasts
**Output**: Standard GSEA visualization format

---

## Secondary Scripts (Specific Analyses)

| Script | Purpose | Use When |
|--------|---------|----------|
| `viz_complex_v_analysis.R` | ATP synthase (Complex V) deep-dive | Detailed OXPHOS analysis |
| `viz_mito_translation_cascade.R` | Mitochondrial translation story | Mito-specific visualization |
| `viz_mutation_divergence.R` | G32A vs R403C comparison | Mutation-specific patterns |
| `viz_synaptic_ribosomes.R` | SynGO ribosome analysis | Synaptic-specific viz |

---

## Output Directory Structure

```
03_Results/02_Analysis/Plots/
├── Publication_Figures/          # Main figures
│   ├── Fig1_Ribosome_Paradox.pdf
│   ├── Fig2_Shared_Compensation_MitoCarta.pdf
│   ├── Fig3_Pattern_Classification_Summary.pdf
│   └── Supplementary_Color_Palette_Reference.pdf
│
├── GSEA/                         # Standard GSEA outputs
├── DE_results/                   # Differential expression
└── Calcium_genes/                # Specific analysis
```

---

## Color Palette Reference

All publication figures use colorblind-safe palettes:

### Diverging (NES values)
- Downregulated: `#2166AC` (blue)
- Neutral: `#F7F7F7` (white)
- Upregulated: `#B35806` (orange)

### Mutations
- G32A: `#0072B2` (blue)
- R403C: `#D55E00` (orange/vermillion)

### Pattern Categories (Wong palette)
- Compensation: `#009E73` (bluish green)
- Progressive: `#D55E00` (vermillion)
- Natural_worsening: `#E69F00` (orange)
- Natural_improvement: `#56B4E9` (sky blue)
- Late_onset: `#CC79A7` (reddish purple)
- Transient: `#0072B2` (blue)

---

## Data Files

### Required Input
- `03_Results/02_Analysis/Plots/Cross_database_validation/pathways_classified.csv`
  - Pre-computed pathway classifications from trajectory analysis
  - Generated by `4.visualize_trajectory_patterns.py`

### Key Exports
- `03_Results/02_Analysis/Python_exports/gsea_results_long.csv` - Full GSEA data
- `03_Results/02_Analysis/Python_exports/gsea_trajectory.csv` - Trajectory contrasts only
- `03_Results/02_Analysis/Python_exports/contrast_mapping.csv` - Contrast name mapping

---

## Recommended Workflow

1. **For final publication figures**: Run `6.publication_figures.py`
2. **For GSEA dotplots**: Run 
3. **For calcium gene analysis**: Run `viz_calcium_genes.R`
4. **For detailed exploration**: Use archived scripts as reference only (e.g. `viz_pooled_dotplots.R`)

