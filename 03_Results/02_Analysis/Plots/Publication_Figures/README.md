# Publication Figures

## Purpose

Publication-ready integrated figures combining multiple analyses into cohesive multi-panel layouts for manuscript submission. These figures synthesize the key findings from cross-database validation, ribosome paradox, and trajectory pattern analysis.

## Generating Scripts

### Primary Scripts

- **3.1.publication_figures.py** - Generates main publication figures (Fig1-4, Color Palette)
  - **Runtime**: ~5-10 minutes
  - **Dependencies**: `master_gsea_table.csv` (via `data_loader.load_classified_pathways()`)

- **3.3.ribosome_upset_plot.py** - Generates ribosome gene overlap UpSet plot (Fig1b UpSet)
  - **Runtime**: ~1-2 minutes
  - **Dependencies**: SynGO, MitoCarta, GO databases

### Orphan Files

- **Fig1b_Ribosome_Detailed_Breakdown.pdf/.png** - Generator script unknown (older analysis output)
  - Timestamp: 2024-11-24 (predates current script versions)
  - Contains detailed ribosome subpathway breakdown
  - May have been manually generated or from archived script

## Complete File Inventory

| File | Format | Generated By | Description |
|------|--------|--------------|-------------|
| Fig1_Ribosome_Paradox.pdf/.png | Vector/Raster | 3.1.publication_figures.py | Main figure showing ribosome paradox |
| Fig1b_Ribosome_Detailed_Breakdown.pdf/.png | Vector/Raster | Unknown (archived) | Detailed ribosome subpathway breakdown (orphan file) |
| Fig1b_Ribosome_Gene_Overlap_UpSet.pdf/.png | Vector/Raster | 3.3.ribosome_upset_plot.py | UpSet plot of ribosome gene set overlaps |
| Fig2_MitoCarta_Trajectory_Patterns.pdf/.png | Vector/Raster | 3.1.publication_figures.py | Mitochondrial pathway trajectory heatmap |
| Fig3_Pattern_Classification_Summary.pdf/.png | Vector/Raster | 3.1.publication_figures.py | Cross-database pattern distribution bar plot |
| Fig3b_SynGO_Trajectory_Patterns.pdf/.png | Vector/Raster | 3.1.publication_figures.py | Synaptic pathway trajectory heatmap |
| Fig4_Semantic_Pathway_Overview.pdf/.png | Vector/Raster | 3.1.publication_figures.py | Semantic category overview heatmap |
| Supplementary_Color_Palette_Reference.pdf/.png | Vector/Raster | 3.1.publication_figures.py | Color scheme reference guide |

**Total files**: 16 (8 figures × 2 formats)

## Figures Generated

### Fig1_Ribosome_Paradox.pdf/.png (Main Figure 1)

**Purpose**: Core ribosome paradox showing opposing trajectories of ribosome biogenesis vs synaptic translation

**Panels**:
- Three-pool trajectory plot (cytoplasmic, synaptic, mitochondrial ribosomes)
- Separate facets for G32A and R403C mutations
- Shows Early (D35) → TrajDev (Maturation) → Late (D65) progression

**Key finding**: Ribosome biogenesis ↑ (NES +2.25) while synaptic ribosomes ↓ (NES -3.0) during maturation

**Formats**: PDF (vector, for publication) and PNG (raster, for presentations)

### Fig1b_Ribosome_Detailed_Breakdown.pdf/.png (Supplementary)

**Purpose**: Detailed breakdown of ribosome pathway components

**Shows**:
- Individual ribosome subpathways (small subunit, large subunit, assembly)
- Separate trajectories for each component
- Statistical significance markers

**Use case**: Supplementary figure providing granular detail on ribosome biogenesis compensation

### Fig1b_Ribosome_Gene_Overlap_UpSet.pdf/.png (Supplementary)

**Purpose**: UpSet plot showing gene set overlaps between ribosome pools

**Plot type**: UpSet plot (alternative to Venn diagram for multi-way intersections)

**Shows**:
- Overlap between cytoplasmic, synaptic (pre/post), and mitochondrial ribosome genes
- Set sizes for each compartment
- Intersection sizes for all combinations

**Key insight**: Identifies compartment-specific vs shared ribosomal genes

### Fig2_MitoCarta_Trajectory_Patterns.pdf/.png (Main Figure 2)

**Purpose**: Temporal trajectory patterns for mitochondrial pathways (MitoCarta database)

**Visualization**:
- Heatmap showing pathway enrichment across developmental stages
- Rows: MitoCarta pathways (grouped by pattern: Compensation, Progressive, etc.)
- Columns: Early, TrajDev, Late for both G32A and R403C
- Color: NES (blue = down, red = up)

**Key finding**: 45 G32A and 29 R403C pathways show compensation pattern in MitoCarta

### Fig3_Pattern_Classification_Summary.pdf/.png (Main Figure 3)

**Purpose**: Summary bar plot of temporal pattern distributions across databases

**Axes**:
- X-axis: Pattern type (Compensation, Progressive, Natural_worsening, etc.)
- Y-axis: Number of pathways
- Colors: G32A (blue) vs R403C (red)
- Facets: One panel per database (MitoCarta, SynGO, GO:BP, Hallmark, etc.)

**Key finding**: Compensation is the dominant pattern across all databases; G32A shows stronger compensation than R403C

### Fig3b_SynGO_Trajectory_Patterns.pdf/.png (Main Figure 3, panel b)

**Purpose**: Temporal trajectory patterns for synaptic pathways (SynGO database)

**Similar to Fig2 but focused on**:
- Synaptic-specific pathways
- Pre vs postsynaptic compartment differences
- Synaptic function categories (transmission, plasticity, organization)

**Key finding**: Synaptic pathways show mixed patterns with substantial compensation alongside collapse

### Fig4_Semantic_Pathway_Overview.pdf/.png (Main Figure 4)

**Purpose**: High-level semantic overview of pathway categories and their enrichment patterns

**Visualization**:
- Large-scale heatmap or network diagram
- Groups pathways by biological function (energy, translation, synapse, signaling, etc.)
- Shows cross-database consistency

**Key finding**: Energy-translation-synapse axis shows coordinated disruption and compensation

### Supplementary_Color_Palette_Reference.pdf/.png

**Purpose**: Reference guide for color schemes used across all figures

**Contents**:
- Color mappings for mutations (G32A, R403C)
- Color scales for NES values
- Pattern category colors
- Database-specific colors
- Accessibility notes (colorblind-safe palettes)

**Use case**: Methods supplement; ensures reproducibility and consistency

## Methods

**Visualization Framework**:
- **Software**: Python 3.x with matplotlib, seaborn, UpSetPlot
- **Color palettes**: Colorblind-safe (viridis, RdBu_r)
- **Figure dimensions**: Optimized for journal submission (typically 7-10 inches wide)
- **Resolution**: PDF (vector) for publication, PNG at 300 dpi for presentations

**Data Integration**:
- Combines GSEA results from 10 databases
- Pattern classifications from trajectory analysis
- Statistical thresholds: FDR < 0.05 for significance

**Export Settings**:
- Dual format: PDF (editable vector graphics) + PNG (high-resolution raster)
- Consistent fonts across all panels (typically Arial or Helvetica)
- Colorblind-accessible palettes where possible

## Figure Organization by Manuscript Section

| Figure | Section | Key Message |
|--------|---------|-------------|
| Fig1 | Results 1 | Ribosome paradox—core finding |
| Fig1b (Supp) | Results 1 | Detailed ribosome component analysis |
| Fig2 | Results 2 | Mitochondrial pathway compensation |
| Fig3 | Results 3 | Cross-database pattern validation |
| Fig3b | Results 3 | Synaptic-specific patterns |
| Fig4 | Discussion | Integrated biological model |

## Interpretation Guide

### Multi-Panel Integration

These figures are designed to build a coherent narrative:
1. **Fig1**: Establishes the paradox (what)
2. **Fig2**: Shows mitochondrial compensation mechanism (how)
3. **Fig3**: Validates findings across databases (robustness)
4. **Fig4**: Integrates into biological model (why)

### Color Coding Consistency

Across all figures:
- **Blue**: Downregulated pathways (negative NES)
- **Red**: Upregulated pathways (positive NES)
- **G32A**: Typically shown in left panels or blue/green in comparative plots
- **R403C**: Typically shown in right panels or orange/red in comparative plots

### Statistical Rigor

All figures include:
- FDR-corrected p-values (threshold: 0.05)
- Effect sizes (NES) for biological magnitude
- Sample sizes in figure legends
- Confidence intervals or error bars where appropriate

## Related Visualizations

See also:
- [../Publication_Figures_Dotplot/](../Publication_Figures_Dotplot/README_DOTPLOT_VERSION.md) - Alternative dotplot visualizations
- [../Ribosome_paradox/](../Ribosome_paradox/README.md) - Core ribosome downregulation finding (detailed analysis)
- [../Cross_database_validation/](../Cross_database_validation/README.md) - Pattern classification methodology
- [../Mito_translation_cascade/](../Mito_translation_cascade/README.md) - Mechanistic cascade deep-dive
- [../Critical_period_trajectories/](../Critical_period_trajectories/README.md) - GSVA temporal trajectory analysis
- [../Synaptic_ribosomes/](../Synaptic_ribosomes/README.md) - Pre/postsynaptic translation analysis
- [../Pattern_Summary_Normalized/](../Pattern_Summary_Normalized/README.md) - Pattern classification visualizations

## How to Regenerate

To recreate all figures in this folder:

```bash
# Ensure R pipeline has exported data for Python
Rscript 02_Analysis/1.4.export_gsea_for_python.R

# Generate main publication figures (Fig1-4, Color Palette)
python3 02_Analysis/3.1.publication_figures.py

# Generate ribosome gene overlap UpSet plot (Fig1b UpSet)
python3 02_Analysis/3.3.ribosome_upset_plot.py
```

**Note**: Fig1b_Ribosome_Detailed_Breakdown.pdf/.png currently lacks a generating script and may need manual recreation or should be considered for removal.

## File Naming Convention

Format: `[Main/Supplementary]_Fig[Number][Panel]_[Description].[pdf/png]`

Examples:
- `Fig1_Ribosome_Paradox.pdf` - Main figure 1
- `Fig1b_Ribosome_Detailed_Breakdown.pdf` - Supplementary to Fig1 (orphan)
- `Fig1b_Ribosome_Gene_Overlap_UpSet.pdf` - Supplementary to Fig1 (UpSet plot)
- `Supplementary_*` - Supplementary materials

---

**Last Updated**: 2025-12-04
**Status**: Publication-ready figures (1 orphan file: Detailed_Breakdown)
**Formats**: PDF (vector) + PNG (300 dpi raster)
